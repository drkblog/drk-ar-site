var sidila;(()=>{var t={498:(t,s)=>{!function(){"use strict";function t(t,s,e){this.text=t,this.offset=s,this.elements=e}t.prototype.forEach=function(t,s){for(var e=this.elements,i=0,h=e.length;i<h;i++)t.call(s,e[i],i,e)},"undefined"!=typeof Symbol&&Symbol.iterator&&(t.prototype[Symbol.iterator]=function(){return this.elements[Symbol.iterator]()});var e={},i={_read_statement(){var s=e,i=this._offset;this._cache._statement=this._cache._statement||{};var h=this._cache._statement[i];if(h)return this._offset=h[1],h[0];for(var f=this._offset,r=[],o=null;;){var _=this._offset,n=new Array(1),a=e,u=this._offset;if((a=this._read_turn())===e&&(this._offset=u,(a=this._read_move())===e&&(this._offset=u,(a=this._read_comment())===e&&(this._offset=u))),a!==e?(n[0]=a,this._read_ws()!==e||(n=null,this._offset=_)):(n=null,this._offset=_),null===n?o=e:(o=new t(this._input.substring(_,this._offset),_,n),this._offset=this._offset),o===e)break;r.push(o)}return r.length>=0?(s=new t(this._input.substring(f,this._offset),f,r),this._offset=this._offset):s=e,this._cache._statement[i]=[s,this._offset],s},_read_move(){var s=e,i=this._offset;this._cache._move=this._cache._move||{};var h=this._cache._move[i];if(h)return this._offset=h[1],h[0];var f=null,r=this._offset+7;return r<=this._inputSize&&(f=this._input.substring(this._offset,r)),"avanzar"===f?(s=new t(this._input.substring(this._offset,this._offset+7),this._offset,[]),this._offset=this._offset+7):(s=e,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["SiDiLa::move","'avanzar'"])),this._cache._move[i]=[s,this._offset],s},_read_turn(){var s=e,i=this._offset;this._cache._turn=this._cache._turn||{};var h=this._cache._turn[i];if(h)return this._offset=h[1],h[0];var f=this._offset,r=new Array(2),o=e,_=null,n=this._offset+5;if(n<=this._inputSize&&(_=this._input.substring(this._offset,n)),"girar"===_?(o=new t(this._input.substring(this._offset,this._offset+5),this._offset,[]),this._offset=this._offset+5):(o=e,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["SiDiLa::turn","'girar'"])),o!==e)if(r[0]=o,this._read_ws()!==e){var a=e,u=null,l=this._offset+8;if(l<=this._inputSize&&(u=this._input.substring(this._offset,l)),"hacia la"===u?(a=new t(this._input.substring(this._offset,this._offset+8),this._offset,[]),this._offset=this._offset+8):(a=e,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["SiDiLa::turn","'hacia la'"])),a!==e)if(this._read_ws()!==e){var c=e,p=this._offset,d=null,m=this._offset+9;if(m<=this._inputSize&&(d=this._input.substring(this._offset,m)),"izquierda"===d?(c=new t(this._input.substring(this._offset,this._offset+9),this._offset,[]),this._offset=this._offset+9):(c=e,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["SiDiLa::turn",'"izquierda"'])),c===e){this._offset=p;var y=null,g=this._offset+7;g<=this._inputSize&&(y=this._input.substring(this._offset,g)),"derecha"===y?(c=new t(this._input.substring(this._offset,this._offset+7),this._offset,[]),this._offset=this._offset+7):(c=e,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["SiDiLa::turn",'"derecha"'])),c===e&&(this._offset=p)}c!==e?r[1]=c:(r=null,this._offset=f)}else r=null,this._offset=f;else r=null,this._offset=f}else r=null,this._offset=f;else r=null,this._offset=f;return null===r?s=e:(s=new t(this._input.substring(f,this._offset),f,r),this._offset=this._offset),this._cache._turn[i]=[s,this._offset],s},_read_comment(){var s=e,i=this._offset;this._cache._comment=this._cache._comment||{};var h=this._cache._comment[i];if(h)return this._offset=h[1],h[0];var f=this._offset,r=new Array(2),o=e,_=null,n=this._offset+1;if(n<=this._inputSize&&(_=this._input.substring(this._offset,n)),"#"===_?(o=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(o=e,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["SiDiLa::comment","'#'"])),o!==e){r[0]=o;for(var a=e,u=this._offset,l=[],c=null;this._offset<this._inputSize?(c=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(c=e,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["SiDiLa::comment","<any char>"])),c!==e;)l.push(c);l.length>=0?(a=new t(this._input.substring(u,this._offset),u,l),this._offset=this._offset):a=e,a!==e?r[1]=a:(r=null,this._offset=f)}else r=null,this._offset=f;return null===r?s=e:(s=new t(this._input.substring(f,this._offset),f,r),this._offset=this._offset),this._cache._comment[i]=[s,this._offset],s},_read_ws(){var s=e,i=this._offset;this._cache._ws=this._cache._ws||{};var h=this._cache._ws[i];if(h)return this._offset=h[1],h[0];for(var f=this._offset,r=[],o=null;;){var _=this._offset;if((o=this._read_comment())===e){this._offset=_;for(var n=this._offset,a=[],u=null;;){var l=null,c=this._offset+1;if(c<=this._inputSize&&(l=this._input.substring(this._offset,c)),null!==l&&/^[ \t\r\n]/.test(l)?(u=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(u=e,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["SiDiLa::ws","[ \\t\\r\\n]"])),u===e)break;a.push(u)}a.length>=1?(o=new t(this._input.substring(n,this._offset),n,a),this._offset=this._offset):o=e,o===e&&(this._offset=_)}if(o===e)break;r.push(o)}return r.length>=0?(s=new t(this._input.substring(f,this._offset),f,r),this._offset=this._offset):s=e,this._cache._ws[i]=[s,this._offset],s}},h=function(t,s,e){this._input=t,this._inputSize=t.length,this._actions=s,this._types=e,this._offset=0,this._cache={},this._failure=0,this._expected=[]};h.prototype.parse=function(){var t=this._read_statement();if(t!==e&&this._offset===this._inputSize)return t;throw 0===this._expected.length&&(this._failure=this._offset,this._expected.push(["SiDiLa","<EOF>"])),this.constructor.lastError={offset:this._offset,expected:this._expected},new SyntaxError(function(t,s,e){for(var i=t.split(/\n/g),h=0,f=0;f<=s;)f+=i[h].length+1,h+=1;for(var r=i[h-1],o="Line "+h+": expected one of:\n\n",_=0;_<e.length;_++)o+="    - "+e[_][1]+" from "+e[_][0]+"\n";for(var n=h.toString();n.length<6;)n=" "+n;for(o+="\n"+n+" | "+r+"\n",f-=r.length+10;f<s;)o+=" ",f+=1;return o+"^"}(this._input,this._failure,this._expected))},Object.assign(h.prototype,i);var f={Grammar:i,Parser:h,parse:function(t,s){return new h(t,(s=s||{}).actions,s.types).parse()}};Object.assign(s,f)}()}},s={};function e(i){var h=s[i];if(void 0!==h)return h.exports;var f=s[i]={exports:{}};return t[i](f,f.exports,e),f.exports}e.d=(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},e.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{"use strict";e.r(i),e.d(i,{AsciiPainter:()=>r,Board:()=>f,CardinalDirection:()=>s,Game:()=>o,Player:()=>h,maps:()=>_});class t{static Wall=new t("█");static Exit=new t("░");static Space=new t(" ");constructor(t){this.symbol=t}}class s{static North=new s("▲",(t=>({x:t.x,y:t.y-1})));static East=new s("▶",(t=>({x:t.x+1,y:t.y})));static South=new s("▼",(t=>({x:t.x,y:t.y+1})));static West=new s("◀",(t=>({x:t.x-1,y:t.y})));constructor(t,s){this.symbol=t,this.action=s}advance(t){return this.action(t)}static order=[this.North,this.East,this.South,this.West];static toTheRight(t){const s=this.order.indexOf(t)+1;return this.order[s%4]}static toTheLeft(t){const s=this.order.indexOf(t)-1;return this.order[s>-1?s:3]}}class h{constructor(t,s,e){this.x=t,this.y=s,this.direction=e,this.crashed=!1}getSymbol(){return this.crashed?"✟":this.direction.symbol}move(){const t=this.direction.advance(this);this.x=t.x,this.y=t.y}crash(){this.crashed=!0}wouldMove(){return this.direction.advance(this)}isAt(t,s){return this.x==t&&this.y==s}rotateLeft(){this.direction=s.toTheLeft(this.direction)}rotateRight(){this.direction=s.toTheRight(this.direction)}}class f{constructor(s,e){this.player=e,this.side=s,this.board=[];for(let e=0;e<s;e++){this.board[e]=[];for(let i=0;i<s;i++)this.board[e][i]=t.Space}this.boardLoadHardcoded()}boardLoadHardcoded(){for(let s=0;s<this.side;s++)this.board[s][0]=t.Wall,this.board[s][this.side-1]=t.Wall,this.board[0][s]=t.Wall,this.board[this.side-1][s]=t.Wall}canMoveInto(s,e){return this.board[s][e]===t.Space}isCrashed(){return this.player.crashed}movePlayer(){const t=this.player.wouldMove();this.canMoveInto(t.x,t.y)?this.player.move():this.player.crash()}rotatePlayerLeft(){this.player.rotateLeft()}rotatePlayerRight(){this.player.rotateRight()}getPieceSymbol(t,s){return this.player.isAt(t,s)?this.player.getSymbol():this.board[t][s].symbol}}class r{static paint(t){let s="";for(let e=0;e<t.side;e++){for(let i=0;i<t.side;i++)s+=t.getPieceSymbol(i,e);s+="\n"}return s}}class o{static processStatement(t,s,e){const i=t.elements[s];this.tryExecuting(i,e)}static tryExecuting(t,s){console.log(t.text),"avanzar"==t.text?s.movePlayer():2==t.elements.length?"girar"==t.elements[0].text&&("derecha"==t.elements[1].text?s.rotatePlayerRight():"izquierda"==t.elements[1].text&&s.rotatePlayerLeft()):t.elements.forEach((t=>{this.tryExecuting(t,s)}))}}const _=e(498)})(),sidila=i})();